<root main_tree_to_execute = "MainTree">
    <BehaviorTree ID="MainTree">
        <Sequence>
            <Sequence>
                <SelectTarget name="SelectTarget" BB="{BB}"/>
                <DirectionVectorUpdate name="DirectionVectorUpdate" BB="{BB}"/>
                <DistanceUpdate name="DistanceUpdate" BB="{BB}"/>
                <CheckSight name="CheckSight" BB="{BB}"/>          
                <AngleOffUpdate name="AngleOffUpdate" BB="{BB}"/>
                <AspectAngleUpdate name="AspectAngleUpdate" BB="{BB}"/>
                <BFM_ModeDetermination name="BFM_ModeDetermination" BB="{BB}" />
            </Sequence>

            <Fallback>
                <Sequence>
                    <DECO_BFMCheck name="DECO_BFMCheck" BB="{BB}" CheckBFM="NONE" />
                    <Task_WeaponEngagement name="Task_WeaponEngagement" BB="{BB}" />
                </Sequence>

                <Sequence>
                    <DECO_BFMCheck name="DECO_BFMCheck" BB="{BB}" CheckBFM="OBFM" />
                    <Task_OffensiveBFM name="Task_OffensiveBFM" BB="{BB}" />
                </Sequence>

                <Sequence>
                    <DECO_BFMCheck name="DECO_BFMCheck" BB="{BB}" CheckBFM="DBFM" />
                    <Task_DefensiveBFM name="Task_DefensiveBFM" BB="{BB}" />
                </Sequence>

                <Sequence>
                    <DECO_BFMCheck name="DECO_BFMCheck" BB="{BB}" CheckBFM="HABFM" />
                    <Task_HeadOnBFM name="Task_HeadOnBFM" BB="{BB}" />
                </Sequence>

                <Sequence>
                    <DECO_BFMCheck name="DECO_BFMCheck" BB="{BB}" CheckBFM="SCISSORS" />
                    <Task_Scissors name="Task_Scissors" BB="{BB}" />
                </Sequence>
            </Fallback>
            
            <AltitudeSafetyCheck name="AltitudeSafetyCheck" BB="{BB}" />
            
        </Sequence>
    </BehaviorTree>
</root>